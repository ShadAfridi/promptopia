(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{177:function(e,t,s){Promise.resolve().then(s.bind(s,340))},340:function(e,t,s){"use strict";s.r(t);var a=s(9268),r=s(6006),i=s(4058);let n=e=>{let{data:t,handleTagClick:s}=e;return(0,a.jsx)("div",{className:"mt-16 prompt_layout",children:t.map(e=>(0,a.jsx)(i.Z,{post:e,handleTagClick:s},e._id))})},l=()=>{let[e,t]=(0,r.useState)(""),[s,i]=(0,r.useState)(),[l,c]=(0,r.useState)([]),[o,u]=(0,r.useState)([]),d=async()=>{let e=await fetch("/api/prompt"),t=await e.json();u(t)};(0,r.useEffect)(()=>{d()},[]);let m=e=>{let t=RegExp(e,"i");return o.filter(e=>t.test(e.creator.username)||t.test(e.tag)||t.test(e.prompt))},p=e=>{clearTimeout(s),t(e.target.value),i(setTimeout(()=>{let t=m(e.target.value);c(t)},500))},x=e=>{t(e);let s=m(e);c(s)};return(0,a.jsxs)("section",{className:"feed",children:[(0,a.jsx)("form",{className:"relative w-full flex-center",children:(0,a.jsx)("input",{type:"text",placeholder:"Search for a tag or a username",value:e,onChange:p,required:!0,className:"search_input peer"})}),e?(0,a.jsx)(n,{data:l,handleTagClick:x}):(0,a.jsx)(n,{data:o,handleTagClick:x})]})};t.default=l},4058:function(e,t,s){"use strict";var a=s(9268),r=s(4751),i=s(6394),n=s.n(i),l=s(6008),c=s(6006);let o=e=>{let{post:t,handleTagClick:s,handleEdit:i,handleDelete:o}=e,[u,d]=(0,c.useState)(""),{data:m}=(0,r.useSession)(),p=(0,l.usePathname)(),x=(0,l.useRouter)(),h=()=>{if(t.creator._id===(null==m?void 0:m.user.id))return x.push("/profile");x.push("/profile/".concat(t.creator._id,"?name=").concat(t.creator.username))},f=()=>{d(t.prompt),navigator.clipboard.writeText(t.prompt),setTimeout(()=>d(""),3e3)};return(0,a.jsxs)("div",{className:"prompt_card",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start gap-5",children:[(0,a.jsxs)("div",{className:"flex-1 flex justify-start items-center gap-3 cursor-pointer",onClick:h,children:[(0,a.jsx)(n(),{src:t.creator.image,alt:"user_image",width:40,height:40,className:"rounded-full object-contain"}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("h3",{className:"font-satoshi font-semibold text-gray-900",children:t.creator.username}),(0,a.jsx)("p",{className:"font-inter text-sm text-gray-500",children:t.creator.email})]})]}),(0,a.jsx)("div",{className:"copy_btn",onClick:()=>f(),children:(0,a.jsx)(n(),{src:u===t.prompt?"/assets/icons/tick.svg":"/assets/icons/copy.svg",alt:"copy_btn",width:12,height:12})})]}),(0,a.jsx)("p",{className:"my-4 font-satoshi text-sm text-gray-700",children:t.prompt}),(0,a.jsxs)("p",{className:"font-inter text-sm blue_gradient cursor-pointer",onClick:()=>s&&s(t.tag),children:["#",t.tag]}),(null==m?void 0:m.user.id)===t.creator._id&&"/profile"===p&&(0,a.jsxs)("div",{className:"mt-5 flex-center gap-4 border-t  border-gray-100 pt-3",children:[(0,a.jsx)("p",{className:"font-inter text-sm green_gradient cursor-pointer",onClick:i,children:"Edit"}),(0,a.jsx)("p",{className:"font-inter text-sm orange_gradient cursor-pointer",onClick:o,children:"Delete"})]})]})};t.Z=o},6008:function(e,t,s){e.exports=s(167)}},function(e){e.O(0,[751,394,667,139,744],function(){return e(e.s=177)}),_N_E=e.O()}]);